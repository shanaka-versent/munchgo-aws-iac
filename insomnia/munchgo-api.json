{
  "_type": "export",
  "__export_format": 4,
  "__export_date": "2026-02-16T00:00:00.000Z",
  "__export_source": "insomnia.desktop.app:v2024.7.0",
  "resources": [
    {
      "_id": "wrk_munchgo_001",
      "_type": "workspace",
      "parentId": null,
      "name": "MunchGo API Collection",
      "description": "MunchGo Microservices — Kong Cloud Gateway + CloudFront + Istio Ambient Mesh\n\nSetup:\n1. Set base_url in Manage Environments (Ctrl+E / Cmd+E)\n2. Use the 'Run: Full Order Lifecycle' folder for one-click testing\n   → Runner tab → select folder → Run\n3. The runner executes all 13 requests in order: register → login → create data → place order → deliver",
      "scope": "collection",
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "env_base_001",
      "_type": "environment",
      "parentId": "wrk_munchgo_001",
      "name": "Base Environment",
      "data": {
        "base_url": "https://d29r7pgg6vs29b.cloudfront.net",
        "access_token": "",
        "refresh_token": "",
        "user_id": "",
        "consumer_id": "",
        "restaurant_id": "",
        "order_id": "",
        "courier_id": "",
        "saga_id": "",
        "menu_item_id": "burger-01"
      },
      "dataPropertyOrder": {
        "&": ["base_url", "access_token", "refresh_token", "user_id", "consumer_id", "restaurant_id", "order_id", "courier_id", "saga_id", "menu_item_id"]
      },
      "metaSortKey": 1,
      "created": 1708099200000,
      "modified": 1708099200000
    },

    {
      "_id": "fld_runner_001",
      "_type": "request_group",
      "parentId": "wrk_munchgo_001",
      "name": "Run: Full Order Lifecycle",
      "description": "ONE-CLICK TEST FLOW — Run all 13 requests sequentially.\n\nHow to run:\n1. Click the Runner tab at the top → select this folder → Run\n2. All requests execute in order, each passing IDs to the next via environment variables.\n\nFlow: Health → Register → Login → Create Consumer → Create Restaurant → Add Menu → Create Courier → Set Available → Create Order (Saga) → Check Saga → Verify Order → Accept → Deliver",
      "metaSortKey": -100,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_run01_health",
      "_type": "request",
      "parentId": "fld_runner_001",
      "name": "01. Health Check",
      "method": "GET",
      "url": "{{ _.base_url }}/healthz",
      "body": {},
      "headers": [],
      "authentication": {},
      "parameters": [],
      "description": "Verify platform connectivity. Expected: \"healthy\"",
      "afterResponseScript": "insomnia.test('Status is 200', () => {\n  insomnia.expect(insomnia.response.status).to.equal(200);\n});",
      "metaSortKey": -1300,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_run02_register",
      "_type": "request",
      "parentId": "fld_runner_001",
      "name": "02. Register User",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/auth/register",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"username\": \"testrunner\",\n  \"email\": \"testrunner@example.com\",\n  \"password\": \"Test@1234\",\n  \"role\": \"CONSUMER\",\n  \"firstName\": \"Test\",\n  \"lastName\": \"Runner\"\n}"
      },
      "headers": [
        { "id": "h1", "name": "Content-Type", "value": "application/json" }
      ],
      "authentication": {},
      "parameters": [],
      "description": "Register a test user in Cognito.",
      "afterResponseScript": "insomnia.test('Status is 200 or 201', () => {\n  insomnia.expect(insomnia.response.status).to.be.oneOf([200, 201]);\n});",
      "metaSortKey": -1200,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_run03_login",
      "_type": "request",
      "parentId": "fld_runner_001",
      "name": "03. Login",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/auth/login",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"email\": \"testrunner@example.com\",\n  \"password\": \"Test@1234\"\n}"
      },
      "headers": [
        { "id": "h2", "name": "Content-Type", "value": "application/json" }
      ],
      "authentication": {},
      "parameters": [],
      "description": "Login and capture tokens. After-response script sets access_token, refresh_token, user_id.",
      "afterResponseScript": "insomnia.test('Status is 200', () => {\n  insomnia.expect(insomnia.response.status).to.equal(200);\n});\ntry {\n  const body = JSON.parse(insomnia.response.body);\n  insomnia.test('Has access token', () => {\n    insomnia.expect(body.accessToken).to.be.a('string');\n  });\n  if (body.accessToken) insomnia.environment.set('access_token', body.accessToken);\n  if (body.refreshToken) insomnia.environment.set('refresh_token', body.refreshToken);\n  if (body.userId) insomnia.environment.set('user_id', body.userId);\n} catch(e) { console.log('Response is not JSON, skipping variable extraction'); }",
      "metaSortKey": -1100,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_run04_consumer",
      "_type": "request",
      "parentId": "fld_runner_001",
      "name": "04. Create Consumer",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/consumers",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"firstName\": \"Jane\",\n  \"lastName\": \"Doe\",\n  \"email\": \"jane.doe@example.com\",\n  \"phoneNumber\": \"+61412345678\",\n  \"address\": {\n    \"street1\": \"123 Collins Street\",\n    \"street2\": \"Level 5\",\n    \"city\": \"Melbourne\",\n    \"state\": \"VIC\",\n    \"zip\": \"3000\",\n    \"country\": \"AU\"\n  }\n}"
      },
      "headers": [
        { "id": "h3", "name": "Content-Type", "value": "application/json" }
      ],
      "authentication": {
        "type": "bearer",
        "token": "{{ _.access_token }}"
      },
      "parameters": [],
      "description": "Create consumer profile. Captures consumer_id.",
      "afterResponseScript": "insomnia.test('Status is 200 or 201', () => {\n  insomnia.expect(insomnia.response.status).to.be.oneOf([200, 201]);\n});\ntry {\n  const body = JSON.parse(insomnia.response.body);\n  insomnia.test('Has consumer ID', () => {\n    insomnia.expect(body.consumerId).to.be.a('string');\n  });\n  if (body.consumerId) insomnia.environment.set('consumer_id', body.consumerId);\n} catch(e) { console.log('Response is not JSON, skipping variable extraction'); }",
      "metaSortKey": -1000,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_run05_restaurant",
      "_type": "request",
      "parentId": "fld_runner_001",
      "name": "05. Create Restaurant",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/restaurants",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"name\": \"Melbourne Burger House\",\n  \"address\": {\n    \"street1\": \"100 Lygon Street\",\n    \"street2\": \"\",\n    \"city\": \"Melbourne\",\n    \"state\": \"VIC\",\n    \"zip\": \"3053\",\n    \"country\": \"AU\"\n  },\n  \"orderMinimum\": 15.00\n}"
      },
      "headers": [
        { "id": "h4", "name": "Content-Type", "value": "application/json" }
      ],
      "authentication": {
        "type": "bearer",
        "token": "{{ _.access_token }}"
      },
      "parameters": [],
      "description": "Create restaurant. Captures restaurant_id.",
      "afterResponseScript": "insomnia.test('Status is 200 or 201', () => {\n  insomnia.expect(insomnia.response.status).to.be.oneOf([200, 201]);\n});\ntry {\n  const body = JSON.parse(insomnia.response.body);\n  insomnia.test('Has restaurant ID', () => {\n    insomnia.expect(body.restaurantId).to.be.a('string');\n  });\n  if (body.restaurantId) insomnia.environment.set('restaurant_id', body.restaurantId);\n} catch(e) { console.log('Response is not JSON, skipping variable extraction'); }",
      "metaSortKey": -900,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_run06_menu",
      "_type": "request",
      "parentId": "fld_runner_001",
      "name": "06. Add Menu Item",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/restaurants/{{ _.restaurant_id }}/menu-items",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"menuItemId\": \"burger-01\",\n  \"name\": \"Classic Cheeseburger\",\n  \"price\": 18.50,\n  \"description\": \"Angus beef patty with cheddar, lettuce, tomato, and house sauce\"\n}"
      },
      "headers": [
        { "id": "h5", "name": "Content-Type", "value": "application/json" }
      ],
      "authentication": {
        "type": "bearer",
        "token": "{{ _.access_token }}"
      },
      "parameters": [],
      "description": "Add a menu item to the restaurant.",
      "afterResponseScript": "insomnia.test('Status is 200 or 201', () => {\n  insomnia.expect(insomnia.response.status).to.be.oneOf([200, 201]);\n});",
      "metaSortKey": -800,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_run07_courier",
      "_type": "request",
      "parentId": "fld_runner_001",
      "name": "07. Create Courier",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/couriers",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"firstName\": \"Mike\",\n  \"lastName\": \"Rider\",\n  \"address\": {\n    \"street1\": \"50 Spencer Street\",\n    \"street2\": \"\",\n    \"city\": \"Melbourne\",\n    \"state\": \"VIC\",\n    \"zip\": \"3000\",\n    \"country\": \"AU\"\n  }\n}"
      },
      "headers": [
        { "id": "h6", "name": "Content-Type", "value": "application/json" }
      ],
      "authentication": {
        "type": "bearer",
        "token": "{{ _.access_token }}"
      },
      "parameters": [],
      "description": "Create courier profile. Captures courier_id.",
      "afterResponseScript": "insomnia.test('Status is 200 or 201', () => {\n  insomnia.expect(insomnia.response.status).to.be.oneOf([200, 201]);\n});\ntry {\n  const body = JSON.parse(insomnia.response.body);\n  insomnia.test('Has courier ID', () => {\n    insomnia.expect(body.courierId).to.be.a('string');\n  });\n  if (body.courierId) insomnia.environment.set('courier_id', body.courierId);\n} catch(e) { console.log('Response is not JSON, skipping variable extraction'); }",
      "metaSortKey": -700,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_run08_available",
      "_type": "request",
      "parentId": "fld_runner_001",
      "name": "08. Set Courier Available",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/couriers/{{ _.courier_id }}/availability",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"available\": true\n}"
      },
      "headers": [
        { "id": "h7", "name": "Content-Type", "value": "application/json" }
      ],
      "authentication": {
        "type": "bearer",
        "token": "{{ _.access_token }}"
      },
      "parameters": [],
      "description": "Mark courier as available for deliveries.",
      "afterResponseScript": "insomnia.test('Status is 200', () => {\n  insomnia.expect(insomnia.response.status).to.equal(200);\n});",
      "metaSortKey": -600,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_run09_saga",
      "_type": "request",
      "parentId": "fld_runner_001",
      "name": "09. Create Order (Saga)",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/sagas/create-order",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"consumerId\": \"{{ _.consumer_id }}\",\n  \"restaurantId\": \"{{ _.restaurant_id }}\",\n  \"lineItems\": [\n    {\n      \"menuItemId\": \"burger-01\",\n      \"quantity\": 2\n    }\n  ],\n  \"deliveryAddress\": {\n    \"street1\": \"789 Flinders Lane\",\n    \"street2\": \"Suite 2\",\n    \"city\": \"Melbourne\",\n    \"state\": \"VIC\",\n    \"zip\": \"3000\",\n    \"country\": \"AU\"\n  }\n}"
      },
      "headers": [
        { "id": "h8", "name": "Content-Type", "value": "application/json" }
      ],
      "authentication": {
        "type": "bearer",
        "token": "{{ _.access_token }}"
      },
      "parameters": [],
      "description": "Start Create Order Saga. Captures saga_id and order_id.",
      "afterResponseScript": "insomnia.test('Status is 200 or 201', () => {\n  insomnia.expect(insomnia.response.status).to.be.oneOf([200, 201]);\n});\ntry {\n  const body = JSON.parse(insomnia.response.body);\n  insomnia.test('Has saga ID', () => {\n    insomnia.expect(body.sagaId).to.be.a('string');\n  });\n  if (body.sagaId) insomnia.environment.set('saga_id', body.sagaId);\n  if (body.orderId) insomnia.environment.set('order_id', body.orderId);\n} catch(e) { console.log('Response is not JSON, skipping variable extraction'); }",
      "metaSortKey": -500,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_run10_sagastatus",
      "_type": "request",
      "parentId": "fld_runner_001",
      "name": "10. Check Saga Status",
      "method": "GET",
      "url": "{{ _.base_url }}/api/v1/sagas/{{ _.saga_id }}",
      "body": {},
      "headers": [],
      "authentication": {
        "type": "bearer",
        "token": "{{ _.access_token }}"
      },
      "parameters": [],
      "description": "Verify saga completed successfully. Expected state: COMPLETED",
      "afterResponseScript": "insomnia.test('Status is 200', () => {\n  insomnia.expect(insomnia.response.status).to.equal(200);\n});",
      "metaSortKey": -400,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_run11_verify",
      "_type": "request",
      "parentId": "fld_runner_001",
      "name": "11. Verify Order Created",
      "method": "GET",
      "url": "{{ _.base_url }}/api/v1/orders/{{ _.order_id }}",
      "body": {},
      "headers": [],
      "authentication": {
        "type": "bearer",
        "token": "{{ _.access_token }}"
      },
      "parameters": [],
      "description": "Verify the order was created by the saga.",
      "afterResponseScript": "insomnia.test('Status is 200', () => {\n  insomnia.expect(insomnia.response.status).to.equal(200);\n});",
      "metaSortKey": -300,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_run12_accept",
      "_type": "request",
      "parentId": "fld_runner_001",
      "name": "12. Accept Order",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/orders/{{ _.order_id }}/accept",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"readyBy\": \"2026-02-16T19:30:00Z\"\n}"
      },
      "headers": [
        { "id": "h9", "name": "Content-Type", "value": "application/json" }
      ],
      "authentication": {
        "type": "bearer",
        "token": "{{ _.access_token }}"
      },
      "parameters": [],
      "description": "Restaurant accepts the order ticket.",
      "afterResponseScript": "insomnia.test('Status is 200', () => {\n  insomnia.expect(insomnia.response.status).to.equal(200);\n});",
      "metaSortKey": -200,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_run13_delivered",
      "_type": "request",
      "parentId": "fld_runner_001",
      "name": "13. Mark Delivered",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/orders/{{ _.order_id }}/delivered",
      "body": {},
      "headers": [],
      "authentication": {
        "type": "bearer",
        "token": "{{ _.access_token }}"
      },
      "parameters": [],
      "description": "Order delivered — full lifecycle complete.",
      "afterResponseScript": "insomnia.test('Status is 200', () => {\n  insomnia.expect(insomnia.response.status).to.equal(200);\n});",
      "metaSortKey": -100,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },

    {
      "_id": "fld_health_001",
      "_type": "request_group",
      "parentId": "wrk_munchgo_001",
      "name": "Health",
      "description": "Platform health check — public, no auth required",
      "metaSortKey": -90,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_healthz_001",
      "_type": "request",
      "parentId": "fld_health_001",
      "name": "Health Check",
      "method": "GET",
      "url": "{{ _.base_url }}/healthz",
      "body": {},
      "headers": [],
      "authentication": {},
      "parameters": [],
      "description": "Platform health endpoint routed through CloudFront → Kong → Istio → health-responder pod.\nExpected response: \"healthy\"",
      "metaSortKey": -100,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },

    {
      "_id": "fld_auth_001",
      "_type": "request_group",
      "parentId": "wrk_munchgo_001",
      "name": "Auth Service (Public)",
      "description": "Public authentication endpoints — no OIDC token required.\nAuth service proxies to Amazon Cognito for user management.\nRate limit: 60 req/min",
      "metaSortKey": -80,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_register_001",
      "_type": "request",
      "parentId": "fld_auth_001",
      "name": "Register User",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/auth/register",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"username\": \"testuser\",\n  \"email\": \"testuser@example.com\",\n  \"password\": \"Test@1234\",\n  \"role\": \"CONSUMER\",\n  \"firstName\": \"Test\",\n  \"lastName\": \"User\"\n}"
      },
      "headers": [
        { "id": "h10", "name": "Content-Type", "value": "application/json" }
      ],
      "authentication": {},
      "parameters": [],
      "description": "Register a new user in Amazon Cognito.\nRoles: CONSUMER, RESTAURANT_OWNER, COURIER, ADMIN\nPre Token Lambda adds custom:roles claim to the JWT.",
      "metaSortKey": -500,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_login_001",
      "_type": "request",
      "parentId": "fld_auth_001",
      "name": "Login",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/auth/login",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"email\": \"testuser@example.com\",\n  \"password\": \"Test@1234\"\n}"
      },
      "headers": [
        { "id": "h11", "name": "Content-Type", "value": "application/json" }
      ],
      "authentication": {},
      "parameters": [],
      "description": "Authenticate user via Cognito ADMIN_USER_PASSWORD_AUTH flow.\nReturns: accessToken, idToken, refreshToken, userId\n\nAfter-response script auto-populates:\n- access_token\n- refresh_token\n- user_id",
      "afterResponseScript": "try {\n  const body = JSON.parse(insomnia.response.body);\n  if (body.accessToken) insomnia.environment.set('access_token', body.accessToken);\n  if (body.refreshToken) insomnia.environment.set('refresh_token', body.refreshToken);\n  if (body.userId) insomnia.environment.set('user_id', body.userId);\n} catch(e) { console.log('Response is not JSON, skipping variable extraction'); }",
      "metaSortKey": -400,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_refresh_001",
      "_type": "request",
      "parentId": "fld_auth_001",
      "name": "Refresh Token",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/auth/refresh",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"refreshToken\": \"{{ _.refresh_token }}\"\n}"
      },
      "headers": [
        { "id": "h12", "name": "Content-Type", "value": "application/json" }
      ],
      "authentication": {},
      "parameters": [],
      "description": "Refresh Cognito tokens using the refresh token.\nReturns new accessToken and idToken (refresh token stays the same).",
      "afterResponseScript": "try {\n  const body = JSON.parse(insomnia.response.body);\n  if (body.accessToken) insomnia.environment.set('access_token', body.accessToken);\n} catch(e) { console.log('Response is not JSON, skipping variable extraction'); }",
      "metaSortKey": -300,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_logout_001",
      "_type": "request",
      "parentId": "fld_auth_001",
      "name": "Logout",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/auth/logout/{{ _.user_id }}",
      "body": {},
      "headers": [],
      "authentication": {},
      "parameters": [],
      "description": "Revoke all Cognito tokens for the user (AdminUserGlobalSignOut).\nAll existing access/refresh tokens become invalid.",
      "metaSortKey": -200,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_profile_001",
      "_type": "request",
      "parentId": "fld_auth_001",
      "name": "Get Profile",
      "method": "GET",
      "url": "{{ _.base_url }}/api/v1/auth/profile/{{ _.user_id }}",
      "body": {},
      "headers": [],
      "authentication": {},
      "parameters": [],
      "description": "Get user profile from Cognito (AdminGetUser).\nReturns: username, email, role, firstName, lastName, status.",
      "metaSortKey": -100,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },

    {
      "_id": "fld_consumers_001",
      "_type": "request_group",
      "parentId": "wrk_munchgo_001",
      "name": "Consumer Service (OIDC)",
      "description": "Consumer management endpoints — Cognito OIDC protected.\nKong validates JWT and forwards X-User-Sub, X-User-Email, X-User-Roles headers.\nRate limit: 100 req/min",
      "metaSortKey": -70,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_create_consumer_001",
      "_type": "request",
      "parentId": "fld_consumers_001",
      "name": "Create Consumer",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/consumers",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"firstName\": \"Jane\",\n  \"lastName\": \"Doe\",\n  \"email\": \"jane.doe@example.com\",\n  \"phoneNumber\": \"+61412345678\",\n  \"address\": {\n    \"street1\": \"123 Collins Street\",\n    \"street2\": \"Level 5\",\n    \"city\": \"Melbourne\",\n    \"state\": \"VIC\",\n    \"zip\": \"3000\",\n    \"country\": \"AU\"\n  }\n}"
      },
      "headers": [
        { "id": "h13", "name": "Content-Type", "value": "application/json" }
      ],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [],
      "description": "Create a new consumer profile.\nAfter-response script auto-populates consumer_id.",
      "afterResponseScript": "try {\n  const body = JSON.parse(insomnia.response.body);\n  if (body.consumerId) insomnia.environment.set('consumer_id', body.consumerId);\n} catch(e) { console.log('Response is not JSON, skipping variable extraction'); }",
      "metaSortKey": -800,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_list_consumers_001",
      "_type": "request",
      "parentId": "fld_consumers_001",
      "name": "List Consumers",
      "method": "GET",
      "url": "{{ _.base_url }}/api/v1/consumers",
      "body": {},
      "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [],
      "description": "List all consumers.",
      "metaSortKey": -700,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_get_consumer_001",
      "_type": "request",
      "parentId": "fld_consumers_001",
      "name": "Get Consumer by ID",
      "method": "GET",
      "url": "{{ _.base_url }}/api/v1/consumers/{{ _.consumer_id }}",
      "body": {},
      "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [],
      "description": "Get a specific consumer by ID.",
      "metaSortKey": -600,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_update_consumer_001",
      "_type": "request",
      "parentId": "fld_consumers_001",
      "name": "Update Consumer",
      "method": "PUT",
      "url": "{{ _.base_url }}/api/v1/consumers/{{ _.consumer_id }}",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"firstName\": \"Jane\",\n  \"lastName\": \"Smith\",\n  \"phoneNumber\": \"+61498765432\",\n  \"address\": {\n    \"street1\": \"456 Bourke Street\",\n    \"street2\": \"\",\n    \"city\": \"Melbourne\",\n    \"state\": \"VIC\",\n    \"zip\": \"3000\",\n    \"country\": \"AU\"\n  }\n}"
      },
      "headers": [
        { "id": "h14", "name": "Content-Type", "value": "application/json" }
      ],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [],
      "description": "Update consumer profile details.",
      "metaSortKey": -500,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_update_addr_001",
      "_type": "request",
      "parentId": "fld_consumers_001",
      "name": "Update Consumer Address",
      "method": "PUT",
      "url": "{{ _.base_url }}/api/v1/consumers/{{ _.consumer_id }}/address",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"street1\": \"789 Flinders Lane\",\n  \"street2\": \"Suite 2\",\n  \"city\": \"Melbourne\",\n  \"state\": \"VIC\",\n  \"zip\": \"3000\",\n  \"country\": \"AU\"\n}"
      },
      "headers": [
        { "id": "h15", "name": "Content-Type", "value": "application/json" }
      ],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [],
      "description": "Update only the consumer's delivery address.",
      "metaSortKey": -400,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_validate_consumer_001",
      "_type": "request",
      "parentId": "fld_consumers_001",
      "name": "Validate Consumer",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/consumers/{{ _.consumer_id }}/validate",
      "body": {},
      "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [],
      "description": "Validate that a consumer is eligible to place orders.",
      "metaSortKey": -300,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_deact_consumer_001",
      "_type": "request",
      "parentId": "fld_consumers_001",
      "name": "Deactivate Consumer",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/consumers/{{ _.consumer_id }}/deactivate",
      "body": {},
      "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [],
      "description": "Deactivate a consumer account (soft delete).",
      "metaSortKey": -200,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_act_consumer_001",
      "_type": "request",
      "parentId": "fld_consumers_001",
      "name": "Activate Consumer",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/consumers/{{ _.consumer_id }}/activate",
      "body": {},
      "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [],
      "description": "Reactivate a previously deactivated consumer.",
      "metaSortKey": -100,
      "isPrivate": false,
      "settingEncodeUrl": true,
      "settingFollowRedirects": "global",
      "settingSendCookies": true,
      "settingStoreCookies": true,
      "settingRebuildPath": true,
      "created": 1708099200000,
      "modified": 1708099200000
    },

    {
      "_id": "fld_restaurants_001",
      "_type": "request_group",
      "parentId": "wrk_munchgo_001",
      "name": "Restaurant Service (OIDC + Anonymous)",
      "description": "Restaurant and menu management — OIDC protected with anonymous fallback.\nGET requests work without auth (guest menu browsing).\nPOST/PUT/DELETE require valid Cognito JWT.\nRate limit: 200 req/min",
      "metaSortKey": -60,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_create_rest_001",
      "_type": "request",
      "parentId": "fld_restaurants_001",
      "name": "Create Restaurant",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/restaurants",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"name\": \"Melbourne Burger House\",\n  \"address\": {\n    \"street1\": \"100 Lygon Street\",\n    \"street2\": \"\",\n    \"city\": \"Melbourne\",\n    \"state\": \"VIC\",\n    \"zip\": \"3053\",\n    \"country\": \"AU\"\n  },\n  \"orderMinimum\": 15.00\n}"
      },
      "headers": [
        { "id": "h16", "name": "Content-Type", "value": "application/json" }
      ],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [],
      "description": "Create a new restaurant. Requires RESTAURANT_OWNER role.",
      "afterResponseScript": "try {\n  const body = JSON.parse(insomnia.response.body);\n  if (body.restaurantId) insomnia.environment.set('restaurant_id', body.restaurantId);\n} catch(e) { console.log('Response is not JSON, skipping variable extraction'); }",
      "metaSortKey": -1000,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_list_rest_001",
      "_type": "request",
      "parentId": "fld_restaurants_001",
      "name": "List Restaurants (Public)",
      "method": "GET",
      "url": "{{ _.base_url }}/api/v1/restaurants",
      "body": {},
      "headers": [],
      "authentication": {},
      "parameters": [
        { "id": "p1", "name": "city", "value": "Melbourne", "disabled": true }
      ],
      "description": "List all restaurants. No auth required (anonymous guest browsing).",
      "metaSortKey": -900,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_get_rest_001",
      "_type": "request",
      "parentId": "fld_restaurants_001",
      "name": "Get Restaurant with Menu (Public)",
      "method": "GET",
      "url": "{{ _.base_url }}/api/v1/restaurants/{{ _.restaurant_id }}",
      "body": {},
      "headers": [],
      "authentication": {},
      "parameters": [],
      "description": "Get restaurant details including full menu. No auth required.",
      "metaSortKey": -800,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_update_rest_001",
      "_type": "request",
      "parentId": "fld_restaurants_001",
      "name": "Update Restaurant",
      "method": "PUT",
      "url": "{{ _.base_url }}/api/v1/restaurants/{{ _.restaurant_id }}",
      "body": { "mimeType": "application/json", "text": "{\n  \"name\": \"Melbourne Burger House (Updated)\",\n  \"address\": {\n    \"street1\": \"100 Lygon Street\",\n    \"street2\": \"Ground Floor\",\n    \"city\": \"Melbourne\",\n    \"state\": \"VIC\",\n    \"zip\": \"3053\",\n    \"country\": \"AU\"\n  },\n  \"orderMinimum\": 20.00\n}" },
      "headers": [ { "id": "h17", "name": "Content-Type", "value": "application/json" } ],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [],
      "description": "Update restaurant details. Requires OIDC auth.",
      "metaSortKey": -700,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_add_menu_001",
      "_type": "request",
      "parentId": "fld_restaurants_001",
      "name": "Add Menu Item",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/restaurants/{{ _.restaurant_id }}/menu-items",
      "body": { "mimeType": "application/json", "text": "{\n  \"menuItemId\": \"burger-01\",\n  \"name\": \"Classic Cheeseburger\",\n  \"price\": 18.50,\n  \"description\": \"Angus beef patty with cheddar, lettuce, tomato, and house sauce\"\n}" },
      "headers": [ { "id": "h18", "name": "Content-Type", "value": "application/json" } ],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [],
      "description": "Add a menu item to a restaurant.",
      "metaSortKey": -600,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_upd_menu_001",
      "_type": "request",
      "parentId": "fld_restaurants_001",
      "name": "Update Menu Item",
      "method": "PUT",
      "url": "{{ _.base_url }}/api/v1/restaurants/{{ _.restaurant_id }}/menu-items/{{ _.menu_item_id }}",
      "body": { "mimeType": "application/json", "text": "{\n  \"name\": \"Classic Cheeseburger Deluxe\",\n  \"price\": 22.00,\n  \"description\": \"Double angus beef patty with aged cheddar, caramelised onion, and truffle aioli\"\n}" },
      "headers": [ { "id": "h19", "name": "Content-Type", "value": "application/json" } ],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [],
      "description": "Update an existing menu item.",
      "metaSortKey": -500,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_del_menu_001",
      "_type": "request",
      "parentId": "fld_restaurants_001",
      "name": "Delete Menu Item",
      "method": "DELETE",
      "url": "{{ _.base_url }}/api/v1/restaurants/{{ _.restaurant_id }}/menu-items/{{ _.menu_item_id }}",
      "body": {},
      "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [],
      "description": "Remove a menu item from a restaurant.",
      "metaSortKey": -400,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_validate_ord_001",
      "_type": "request",
      "parentId": "fld_restaurants_001",
      "name": "Validate Order",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/restaurants/{{ _.restaurant_id }}/validate-order",
      "body": { "mimeType": "application/json", "text": "{\n  \"lineItems\": [\n    {\n      \"menuItemId\": \"burger-01\",\n      \"quantity\": 2\n    }\n  ]\n}" },
      "headers": [ { "id": "h20", "name": "Content-Type", "value": "application/json" } ],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [],
      "description": "Validate order line items against the restaurant's menu.",
      "metaSortKey": -300,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_deact_rest_001",
      "_type": "request",
      "parentId": "fld_restaurants_001",
      "name": "Deactivate Restaurant",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/restaurants/{{ _.restaurant_id }}/deactivate",
      "body": {}, "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [],
      "description": "Deactivate a restaurant (stops accepting orders).",
      "metaSortKey": -200,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_act_rest_001",
      "_type": "request",
      "parentId": "fld_restaurants_001",
      "name": "Activate Restaurant",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/restaurants/{{ _.restaurant_id }}/activate",
      "body": {}, "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [],
      "description": "Reactivate a previously deactivated restaurant.",
      "metaSortKey": -100,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },

    {
      "_id": "fld_orders_001",
      "_type": "request_group",
      "parentId": "wrk_munchgo_001",
      "name": "Order Service (OIDC) — CQRS",
      "description": "Order management with CQRS pattern.\nAll endpoints require Cognito OIDC JWT. Rate limit: 100 req/min",
      "metaSortKey": -50,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "fld_orders_q_001",
      "_type": "request_group",
      "parentId": "fld_orders_001",
      "name": "Queries (Read)",
      "description": "Order query endpoints — read-only, paginated responses.",
      "metaSortKey": -200,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_get_order_001",
      "_type": "request",
      "parentId": "fld_orders_q_001",
      "name": "Get Order by ID",
      "method": "GET",
      "url": "{{ _.base_url }}/api/v1/orders/{{ _.order_id }}",
      "body": {}, "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [],
      "description": "Get a specific order by ID.",
      "metaSortKey": -600,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_ord_consumer_001",
      "_type": "request",
      "parentId": "fld_orders_q_001",
      "name": "Get Orders by Consumer",
      "method": "GET",
      "url": "{{ _.base_url }}/api/v1/orders",
      "body": {}, "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [
        { "id": "p2", "name": "consumerId", "value": "{{ _.consumer_id }}" },
        { "id": "p3", "name": "page", "value": "0" },
        { "id": "p4", "name": "size", "value": "20" },
        { "id": "p5", "name": "state", "value": "APPROVED", "disabled": true }
      ],
      "description": "Get paginated orders for a specific consumer.\nOptional state filter: APPROVAL_PENDING, APPROVED, REJECTED, CANCELLED, PREPARING, READY_FOR_PICKUP, PICKED_UP, DELIVERED",
      "metaSortKey": -500,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_ord_rest_001",
      "_type": "request",
      "parentId": "fld_orders_q_001",
      "name": "Get Orders by Restaurant",
      "method": "GET",
      "url": "{{ _.base_url }}/api/v1/orders",
      "body": {}, "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [
        { "id": "p6", "name": "restaurantId", "value": "{{ _.restaurant_id }}" },
        { "id": "p7", "name": "page", "value": "0" },
        { "id": "p8", "name": "size", "value": "20" }
      ],
      "description": "Get paginated orders for a specific restaurant.",
      "metaSortKey": -400,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_ord_courier_001",
      "_type": "request",
      "parentId": "fld_orders_q_001",
      "name": "Get Orders by Courier",
      "method": "GET",
      "url": "{{ _.base_url }}/api/v1/orders",
      "body": {}, "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [
        { "id": "p9", "name": "courierId", "value": "{{ _.courier_id }}" },
        { "id": "p10", "name": "page", "value": "0" },
        { "id": "p11", "name": "size", "value": "20" }
      ],
      "description": "Get paginated orders assigned to a specific courier.",
      "metaSortKey": -300,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_ord_state_001",
      "_type": "request",
      "parentId": "fld_orders_q_001",
      "name": "Get Orders by State",
      "method": "GET",
      "url": "{{ _.base_url }}/api/v1/orders",
      "body": {}, "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [
        { "id": "p12", "name": "state", "value": "APPROVAL_PENDING" },
        { "id": "p13", "name": "page", "value": "0" },
        { "id": "p14", "name": "size", "value": "100" }
      ],
      "description": "Get paginated orders by state.",
      "metaSortKey": -200,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_ord_history_001",
      "_type": "request",
      "parentId": "fld_orders_q_001",
      "name": "Get Order History",
      "method": "GET",
      "url": "{{ _.base_url }}/api/v1/orders/{{ _.order_id }}/history",
      "body": {}, "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [],
      "description": "Get the full event history for an order (event-sourced audit trail).",
      "metaSortKey": -100,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "fld_orders_c_001",
      "_type": "request_group",
      "parentId": "fld_orders_001",
      "name": "Commands (Write)",
      "description": "Order command endpoints — state transitions and mutations.",
      "metaSortKey": -100,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_create_ord_001",
      "_type": "request",
      "parentId": "fld_orders_c_001",
      "name": "Create Order (Direct)",
      "method": "POST",
      "url": "{{ _.base_url }}/api/v1/orders",
      "body": { "mimeType": "application/json", "text": "{\n  \"consumerId\": \"{{ _.consumer_id }}\",\n  \"restaurantId\": \"{{ _.restaurant_id }}\",\n  \"lineItems\": [\n    {\n      \"menuItemId\": \"burger-01\",\n      \"quantity\": 2\n    }\n  ],\n  \"deliveryAddress\": {\n    \"street1\": \"789 Flinders Lane\",\n    \"street2\": \"Suite 2\",\n    \"city\": \"Melbourne\",\n    \"state\": \"VIC\",\n    \"zip\": \"3000\",\n    \"country\": \"AU\"\n  },\n  \"totalAmount\": 37.00\n}" },
      "headers": [ { "id": "h21", "name": "Content-Type", "value": "application/json" } ],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [],
      "description": "Create an order directly (bypasses saga). Prefer POST /api/v1/sagas/create-order.",
      "afterResponseScript": "try {\n  const body = JSON.parse(insomnia.response.body);\n  if (body.orderId) insomnia.environment.set('order_id', body.orderId);\n} catch(e) { console.log('Response is not JSON, skipping variable extraction'); }",
      "metaSortKey": -900,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_approve_001", "_type": "request", "parentId": "fld_orders_c_001",
      "name": "Approve Order", "method": "POST",
      "url": "{{ _.base_url }}/api/v1/orders/{{ _.order_id }}/approve",
      "body": { "mimeType": "application/json", "text": "{\n  \"courierId\": \"{{ _.courier_id }}\"\n}" },
      "headers": [ { "id": "h22", "name": "Content-Type", "value": "application/json" } ],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [], "description": "Approve an order and assign a courier. APPROVAL_PENDING → APPROVED",
      "metaSortKey": -800,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_reject_001", "_type": "request", "parentId": "fld_orders_c_001",
      "name": "Reject Order", "method": "POST",
      "url": "{{ _.base_url }}/api/v1/orders/{{ _.order_id }}/reject",
      "body": { "mimeType": "application/json", "text": "{\n  \"reason\": \"Restaurant is closed\"\n}" },
      "headers": [ { "id": "h23", "name": "Content-Type", "value": "application/json" } ],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [], "description": "Reject an order. APPROVAL_PENDING → REJECTED",
      "metaSortKey": -700,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_cancel_001", "_type": "request", "parentId": "fld_orders_c_001",
      "name": "Cancel Order", "method": "POST",
      "url": "{{ _.base_url }}/api/v1/orders/{{ _.order_id }}/cancel",
      "body": { "mimeType": "application/json", "text": "{\n  \"reason\": \"Customer changed their mind\"\n}" },
      "headers": [ { "id": "h24", "name": "Content-Type", "value": "application/json" } ],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [], "description": "Cancel an order. APPROVED → CANCEL_PENDING → CANCELLED",
      "metaSortKey": -600,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_accept_001", "_type": "request", "parentId": "fld_orders_c_001",
      "name": "Accept Order (Ticket)", "method": "POST",
      "url": "{{ _.base_url }}/api/v1/orders/{{ _.order_id }}/accept",
      "body": { "mimeType": "application/json", "text": "{\n  \"readyBy\": \"2026-02-16T19:30:00Z\"\n}" },
      "headers": [ { "id": "h25", "name": "Content-Type", "value": "application/json" } ],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [], "description": "Restaurant accepts the order ticket. APPROVED → ACCEPTED",
      "metaSortKey": -500,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_preparing_001", "_type": "request", "parentId": "fld_orders_c_001",
      "name": "Mark Preparing", "method": "POST",
      "url": "{{ _.base_url }}/api/v1/orders/{{ _.order_id }}/preparing",
      "body": {}, "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [], "description": "Restaurant starts preparing. ACCEPTED → PREPARING",
      "metaSortKey": -400,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_ready_001", "_type": "request", "parentId": "fld_orders_c_001",
      "name": "Mark Ready for Pickup", "method": "POST",
      "url": "{{ _.base_url }}/api/v1/orders/{{ _.order_id }}/ready-for-pickup",
      "body": {}, "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [], "description": "Order ready for pickup. PREPARING → READY_FOR_PICKUP",
      "metaSortKey": -300,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_pickedup_001", "_type": "request", "parentId": "fld_orders_c_001",
      "name": "Mark Picked Up", "method": "POST",
      "url": "{{ _.base_url }}/api/v1/orders/{{ _.order_id }}/picked-up",
      "body": {}, "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [], "description": "Courier picks up the order. READY_FOR_PICKUP → PICKED_UP",
      "metaSortKey": -200,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_delivered_001", "_type": "request", "parentId": "fld_orders_c_001",
      "name": "Mark Delivered", "method": "POST",
      "url": "{{ _.base_url }}/api/v1/orders/{{ _.order_id }}/delivered",
      "body": {}, "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [], "description": "Order delivered. PICKED_UP → DELIVERED (terminal state)",
      "metaSortKey": -100,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },

    {
      "_id": "fld_couriers_001",
      "_type": "request_group",
      "parentId": "wrk_munchgo_001",
      "name": "Courier Service (OIDC)",
      "description": "Courier management endpoints — Cognito OIDC protected.\nRate limit: 100 req/min",
      "metaSortKey": -40,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_create_cour_001", "_type": "request", "parentId": "fld_couriers_001",
      "name": "Create Courier", "method": "POST",
      "url": "{{ _.base_url }}/api/v1/couriers",
      "body": { "mimeType": "application/json", "text": "{\n  \"firstName\": \"Mike\",\n  \"lastName\": \"Rider\",\n  \"address\": {\n    \"street1\": \"50 Spencer Street\",\n    \"street2\": \"\",\n    \"city\": \"Melbourne\",\n    \"state\": \"VIC\",\n    \"zip\": \"3000\",\n    \"country\": \"AU\"\n  }\n}" },
      "headers": [ { "id": "h26", "name": "Content-Type", "value": "application/json" } ],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [], "description": "Create a new courier profile.",
      "afterResponseScript": "try {\n  const body = JSON.parse(insomnia.response.body);\n  if (body.courierId) insomnia.environment.set('courier_id', body.courierId);\n} catch(e) { console.log('Response is not JSON, skipping variable extraction'); }",
      "metaSortKey": -800,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_list_cour_001", "_type": "request", "parentId": "fld_couriers_001",
      "name": "List Couriers", "method": "GET",
      "url": "{{ _.base_url }}/api/v1/couriers",
      "body": {}, "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [], "description": "List all couriers.",
      "metaSortKey": -700,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_get_cour_001", "_type": "request", "parentId": "fld_couriers_001",
      "name": "Get Courier by ID", "method": "GET",
      "url": "{{ _.base_url }}/api/v1/couriers/{{ _.courier_id }}",
      "body": {}, "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [], "description": "Get a specific courier by ID.",
      "metaSortKey": -600,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_avail_cour_001", "_type": "request", "parentId": "fld_couriers_001",
      "name": "Get Available Couriers", "method": "GET",
      "url": "{{ _.base_url }}/api/v1/couriers/available",
      "body": {}, "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [ { "id": "p15", "name": "city", "value": "Melbourne", "disabled": true } ],
      "description": "Get couriers currently available for delivery.",
      "metaSortKey": -500,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_upd_cour_001", "_type": "request", "parentId": "fld_couriers_001",
      "name": "Update Courier", "method": "PUT",
      "url": "{{ _.base_url }}/api/v1/couriers/{{ _.courier_id }}",
      "body": { "mimeType": "application/json", "text": "{\n  \"firstName\": \"Mike\",\n  \"lastName\": \"Rider\",\n  \"address\": {\n    \"street1\": \"200 Elizabeth Street\",\n    \"street2\": \"\",\n    \"city\": \"Melbourne\",\n    \"state\": \"VIC\",\n    \"zip\": \"3000\",\n    \"country\": \"AU\"\n  }\n}" },
      "headers": [ { "id": "h27", "name": "Content-Type", "value": "application/json" } ],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [], "description": "Update courier profile details.",
      "metaSortKey": -400,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_avail_toggle_001", "_type": "request", "parentId": "fld_couriers_001",
      "name": "Update Availability", "method": "POST",
      "url": "{{ _.base_url }}/api/v1/couriers/{{ _.courier_id }}/availability",
      "body": { "mimeType": "application/json", "text": "{\n  \"available\": true\n}" },
      "headers": [ { "id": "h28", "name": "Content-Type", "value": "application/json" } ],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [], "description": "Toggle courier availability for accepting deliveries.",
      "metaSortKey": -300,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_deact_cour_001", "_type": "request", "parentId": "fld_couriers_001",
      "name": "Deactivate Courier", "method": "POST",
      "url": "{{ _.base_url }}/api/v1/couriers/{{ _.courier_id }}/deactivate",
      "body": {}, "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [], "description": "Deactivate a courier account.",
      "metaSortKey": -200,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_act_cour_001", "_type": "request", "parentId": "fld_couriers_001",
      "name": "Activate Courier", "method": "POST",
      "url": "{{ _.base_url }}/api/v1/couriers/{{ _.courier_id }}/activate",
      "body": {}, "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [], "description": "Reactivate a previously deactivated courier.",
      "metaSortKey": -100,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },

    {
      "_id": "fld_sagas_001",
      "_type": "request_group",
      "parentId": "wrk_munchgo_001",
      "name": "Saga Orchestrator (OIDC)",
      "description": "Saga orchestrator for distributed transactions — Cognito OIDC protected.\nRate limit: 100 req/min\nThis is the primary endpoint for creating orders from the SPA.",
      "metaSortKey": -30,
      "created": 1708099200000,
      "modified": 1708099200000
    },
    {
      "_id": "req_saga_create_001", "_type": "request", "parentId": "fld_sagas_001",
      "name": "Create Order (Saga)", "method": "POST",
      "url": "{{ _.base_url }}/api/v1/sagas/create-order",
      "body": { "mimeType": "application/json", "text": "{\n  \"consumerId\": \"{{ _.consumer_id }}\",\n  \"restaurantId\": \"{{ _.restaurant_id }}\",\n  \"lineItems\": [\n    {\n      \"menuItemId\": \"burger-01\",\n      \"quantity\": 2\n    }\n  ],\n  \"deliveryAddress\": {\n    \"street1\": \"789 Flinders Lane\",\n    \"street2\": \"Suite 2\",\n    \"city\": \"Melbourne\",\n    \"state\": \"VIC\",\n    \"zip\": \"3000\",\n    \"country\": \"AU\"\n  }\n}" },
      "headers": [ { "id": "h29", "name": "Content-Type", "value": "application/json" } ],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [],
      "description": "Start a Create Order Saga — orchestrates validation, order creation, courier assignment.\nIf any step fails, compensating transactions roll back.",
      "afterResponseScript": "try {\n  const body = JSON.parse(insomnia.response.body);\n  if (body.sagaId) insomnia.environment.set('saga_id', body.sagaId);\n  if (body.orderId) insomnia.environment.set('order_id', body.orderId);\n} catch(e) { console.log('Response is not JSON, skipping variable extraction'); }",
      "metaSortKey": -200,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    },
    {
      "_id": "req_saga_status_001", "_type": "request", "parentId": "fld_sagas_001",
      "name": "Get Saga Status", "method": "GET",
      "url": "{{ _.base_url }}/api/v1/sagas/{{ _.saga_id }}",
      "body": {}, "headers": [],
      "authentication": { "type": "bearer", "token": "{{ _.access_token }}" },
      "parameters": [],
      "description": "Check the status of a running or completed saga.\nStates: STARTED, COMPLETED, COMPENSATING, FAILED",
      "metaSortKey": -100,
      "isPrivate": false, "settingEncodeUrl": true, "settingFollowRedirects": "global", "settingSendCookies": true, "settingStoreCookies": true, "settingRebuildPath": true, "created": 1708099200000, "modified": 1708099200000
    }
  ]
}
